/*! angular-common - v0.0.1 - 2013-01-02
* https://github.com/wmluke/angular-common
* Copyright (c) 2013 William Bunselmeyer 
* License http://www.apache.org/licenses/LICENSE-2.0.html */
(function(e,t){"use strict";function r(){return new n}var n=function(){var e=[],n,r,i,s;this.subscribe=function(t){e.push(t)},this.__defineGetter__("success",function(){return n}),this.__defineSetter__("success",function(r){n=r,t.each(e,function(e){e(r,"success")})}),this.__defineGetter__("info",function(){return r}),this.__defineSetter__("info",function(n){r=n,t.each(e,function(e){e(n,"info")})}),this.__defineGetter__("warn",function(){return i}),this.__defineSetter__("warn",function(n){i=n,t.each(e,function(e){e(n,"warn")})}),this.__defineGetter__("error",function(){return s}),this.__defineSetter__("error",function(n){s=n,t.each(e,function(e){e(n,"error")})})};e.module("angular-common.flash-service",[]).factory("flash",[r])})(window.angular||{},window._||{}),function(e){"use strict";function n(e){return t.createInterval(e)}var t=function(e,t,n){function s(){r&&(t(i,i*n),i+=1,e(s,n))}var r=!1,i=0;this.__defineGetter__("run",function(){return r}),this.__defineSetter__("run",function(t){r=t,e(s,n)}),this.__defineGetter__("count",function(){return i}),this.__defineGetter__("elapsed",function(){return i*n})};t.createInterval=function(e){return function(n,r){var i=new t(e,n,r);return i.run=!0,i}},e.module("angular-common.interval-service",[]).factory("startInterval",["$timeout",n])}(window.angular||{}),function(e,t,n,r){"use strict";function i(){return function(e,t){t.collapse()}}function s(e,n){return function(r,i){function o(e){i.fadeOut("slow","linear",function(){r.flash={},i.removeClass("alert-"+e)})}function u(e,t){r.flash.heading=s[t],r.flash.message=e,i.addClass("alert-"+t),i.fadeIn("slow","linear",function(){n(function(){o(t)},5e3)})}r.flash={};var s={success:"Congrats!",info:"FYI:",warn:"Heads up!",error:"Oh Snap!"};e.subscribe(function(e,n){t.string.isBlank(e)?o(n):u(e,n)})}}function o(e){return function(n,r,i){var s=e(i.ngModel),o=e(i.ngUpdate),u=i.source;r.change(function(e){n.$apply(function(){s&&s.assign(n,e.target.value),o&&o(n)})}),n.$watch(u,function(e){if(t.isEmpty(e))return;r.typeahead({source:e})},!0)}}function u(e){return function(t,r,i){var s=e(i.ngModel),o=s.assign;r.datepicker({autoclose:!0}),r.on("changeDate",function(e){t.$apply(function(){o(t,r.data("datepicker").getDate())})}),t.$watch(i.ngModel,function(e){e&&r.datepicker("setDate",n(e).toDate())},!0)}}function a(){return function(e,t,n){t.click(function(e){r(e.target).closest("li").addClass("active").siblings().removeClass("active")})}}function f(e){return function(t,n,r){e(function(){n.addClass("in")},50)}}function l(){return function(e,t,n){r(t).tooltip({title:n.title}),e.$on("$destroy",function(){r(t).tooltip("destroy"),console.info("$destroy")}),e.$on("$routeChangeStart",function(){r(t).tooltip("destroy"),console.info("$routeChangeStart")})}}function h(e){return function(t,n,i){var s=e(i.confirm),o=['<form id="confirm'+c+'" class="confirm-form">',"  <p>"+i.message+"</p>","  <br/>",'  <div class="form-actions">','    <a class="btn btn-cancel">Never mind</a>','    <button type="button" class="btn btn-primary btn-ok">Do it!</button>',"  </div>","</form>"];n.popover({content:o.join("\n"),html:!0,title:i.title+"?",placement:i.confirmPlacement||"top"}),n.click(function(){n.popover("show")}),r(document).on("click","#confirm"+c+" .btn-cancel",function(){n.popover("hide")}),r(document).on("click","#confirm"+c+" .btn-ok",function(){n.popover("hide"),s&&s(t)}),c+=1}}var c=1;e.module("angular-common.bootstrap-directives",["angular-common.flash-service"]).directive("flash",["flash","$timeout",s]).directive("datePicker",["$parse",u]).directive("transition",["$timeout",f]).directive("tooltip",["$timeout",l]).directive("confirm",["$parse",h]).directive("navToggle",[a]).directive("navCollapse",[i]).directive("typeahead",["$parse",o])}(window.angular||{},window.underscore||{},window.moment||{},window.$||{}),function(e,t,n,r){"use strict";function i(e){return function(t,n,r){t.$watch(function(e){return e.$eval(r.compile)},function(r){n.html(r),e(n.contents())(t)})}}function s(e){return function(t,n,r){e.prettyPrint()}}function o(){return t.setOptions({gfm:!0,pedantic:!1,sanitize:!0}),function(e){return n.string.isBlank(e)?e:t(e)}}function u(e,t){return function(i,s,o){var u=e(o.ngModel),a=u.assign,f,l=n.extend({mode:"text",theme:"neat",lineNumbers:!0,autofocus:!1,matchBrackets:!0,lineWrapping:!0},e(o.codeEditor)(i));l.value=u(i),l.onUpdate=function(e,n){t(function(){i.$apply(function(){a(i,f.getValue())})})},f=r.fromTextArea(s.get(0),l),i.$watch(o.ngModel,function(e){e&&e!==f.getValue()&&(f.setValue(e),setTimeout(function(){f.refresh()},200))},!0),s.focus(function(){f.focus()})}}function a(){return function(e,t,n){function r(){t.children(".value").show(),t.children("input").hide()}function i(){t.children(".value").hide().tooltip("hide"),t.children("input").show()}t.on("click",".value",i),t.children("input").keyup(function(e){var t=e.keyCode||e.which;t===13&&r()})}}function f(){return{restrict:"A",require:"?ngModel",link:function(e,t,n,r){function i(){r.$setViewValue(t.text())}if(!r)return;r.$render=function(){t.text(r.$viewValue||"")},t.bind("blur keyup change",function(){e.$apply(i)}),i()}}}e.module("angular-common.content-directives",[]).directive("codeEditor",["$parse","$timeout",u]).directive("inlineEdit",[a]).directive("contenteditable",[f]).directive("compile",["$compile",i]).directive("prettyprint",["$window",s]).filter("markdown",[o])}(window.angular||{},window.marked||{},window.underscore||{},window.CodeMirror||{}),function(e){"use strict";function t(e){return function(t,n,r){var i=e(r.keyEnter);n.keydown(function(e){var n=e.keyCode||e.which;n===13&&t.$apply(function(){i(t,{$event:e})})})}}function n(e){return function(t,n,r){var i=e(r.keyUpArrow);n.keyup(function(e){var n=e.keyCode||e.which;n===38&&t.$apply(function(){i(t,{$event:e})})})}}function r(e){return function(t,n,r){var i=e(r.keyDownArrow);n.keyup(function(e){var n=e.keyCode||e.which;n===40&&t.$apply(function(){i(t,{$event:e})})})}}e.module("angular-common.key-event-directives",[]).directive("keyEnter",["$parse",t]).directive("keyUpArrow",["$parse",n]).directive("keyDownArrow",["$parse",r])}(window.angular||{});